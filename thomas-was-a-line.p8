pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
x = 8
y = 64
l = 0
d=0 -- default x direction
hmsg="null"
vmsg="thomas was a line"
end

function _update()
  if (l==0) then
    hmsg="  [arrow keys to move]"
  elseif (l==1) then
    hmsg="  [press z 🅾️ or x ❎]"
  elseif (l==2) then
    hmsg="  sure as x is x?"
  elseif (l==3) then
    hmsg="  why oh 'y' 🅾️ why?"
  else
    hmsg="  [fin]"
  end
  if d==0 then
    if btn(0) then x=x-8 end
    if btn(1) then x=x+8 end
  else
    if btn(2) then y=y-8 end
    if btn(3) then y=y+8 end
  end
  if btn(4) then d=1 end
  if btn(5) then d=0 end
  
  if (x<8) then x=8 end
  -- level 0 hack for now
  if x>120 then 
    x=120
  end
  if (y<8) then y=8 end
  if (y>=120) then y=120 end
  
-- level 0 hack
  if l==0 and x==120 and y==64
  then
    d=1
    l=1
    x=8
    y=64
  end
  -- level 1 hack
  if l==1 and x==120 and y==64
    and d==1
  then
    d=0
    l=2
    x=8
    y=64
  end
  -- level 2 hack
  if l==2 and x==120 and y==56
  and d==1
  then
    l=3
    x=8
    y=64
  end


--    if l>15 then l=0 end
end

function _draw()
  cls(2)
-- matches mike's original 
-- colour scheme
  map((l%8)*16,(flr(l/8)*16),0,0)
  print("")
  print("")
  -- horiz message, if any
  print(hmsg)

-- vert message, if any
-- make sure it is <16 chars
  for i=1,#vmsg do
    print(
      sub(vmsg,
      i,i))
  end

-- level 0 hack
  if l==0 then
    spr(17, 120,64)
  elseif l==1 then
    if y==64 then
      if d==0 then
        spr(19, 120, 64)
      else
        spr(18,120,64)
      end
    end  
  elseif l==2 then
    if y==56 then
      if d==0 then
        spr(19, 120, 56)
      else
        spr(18,120,56)
      end
    end  
  --  spr(18, 120, 56) 
  end

  spr(4+d,x,y)
end

__gfx__
0000000000000000000770000000000000000000000440000000000000000000000990000000000000000000000aa00000000000000000000008800000000000
0000000000000000000770000000000000000000000440000000000000000000000990000000000000000000000aa00000000000000000000008800000000000
0070070000000000000770000000000000000000000440000000000000000000000990000000000000000000000aa00000000000000000000008800000000000
00077000777777770007700000077000444444440004400000044000999999990009900000099000aaaaaaaa000aa000000aa000888888880008800000088000
00077000777777770007700000077000444444440004400000044000999999990009900000099000aaaaaaaa000aa000000aa000888888880008800000088000
0070070000000000000770000000000000000000000440000000000000000000000990000000000000000000000aa00000000000000000000008800000000000
0000000000000000000770000000000000000000000440000000000000000000000990000000000000000000000aa00000000000000000000008800000000000
0000000000000000000770000000000000000000000440000000000000000000000990000000000000000000000aa00000000000000000000008800000000000
0000000000000000000070000000000000000000000400000000000000000000000900000000000000000000000a000000000000000000000008000000000000
00000000000000000007000000000000000000000000400000000000000000000000900000000000000000000000a00000000000000000000000800000000000
0000000000000000000070000000000000000000000400000000000000000000000900000000000000000000000a000000000000000000000008000000000000
00000000070707070007000000070000404040400000400000004000909090900000900000009000a0a0a0a00000a0000000a000808080800000800000008000
000000007070707000007000000070000404040400040000000400000909090900090000000900000a0a0a0a000a0000000a0000080808080008000000080000
00000000000000000007000000000000000000000000400000000000000000000000900000000000000000000000a00000000000000000000000800000000000
0000000000000000000070000000000000000000000400000000000000000000000900000000000000000000000a000000000000000000000008000000000000
00000000000000000007000000000000000000000000400000000000000000000000900000000000000000000000a00000000000000000000000800000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000007000070070007000700077007007000070070700700770007007770070700000707007007070700070707700707700007077070070777000707777
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000070000000700000007000000070000000700000007000000070000000700000
00000000000000000000000000000000007000000070000000700000007000000000000000000000000000000000000000700000007000000070000000700000
00000000000000000070000000700000000000000000000000700000007000000000000000000000007000000070000000000000000000000070000000700000
00000000007000000000000000700000000000000070000000000000007000000000000000700000000000000070000000000000007000000000000000700000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00770000007700070077007000770077007707000077070700770770007707770077700000777007007770700077707700777700007777070077777000777777
00700000007000000070000000700000007000000070000000700000007000000070000000700000007000000070000000700000007000000070000000700000
00000000000000000000000000000000000000000000000000000000000000000070000000700000007000000070000000700000007000000070000000700000
00000000000000000000000000000000007000000070000000700000007000000000000000000000000000000000000000700000007000000070000000700000
00000000000000000070000000700000000000000000000000700000007000000000000000000000007000000070000000000000000000000070000000700000
00000000007000000000000000700000000000000070000000000000007000000000000000700000000000000070000000000000007000000000000000700000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000070000070700007007000077070007000700070707000770070007770700700007007007070070700700707707007700070077070700777007007777
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000700000007000000070000000700000007000000070000000700000007000000
00000000000000000000000000000000070000000700000007000000070000000000000000000000000000000000000007000000070000000700000007000000
00000000000000000700000007000000000000000000000007000000070000000000000000000000070000000700000000000000000000000700000007000000
00000000070000000000000007000000000000000700000000000000070000000000000007000000000000000700000000000000070000000000000007000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07070000070700070707007007070077070707000707070707070770070707770707700007077007070770700707707007077077070777000707770707077770
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000070000000700000007000000070000000700000007000000070000000700000007000000070000000700000007000000070000000700000007000000
00000000000000000000000000000000000000000000000000000000000000000700000007000000070000000700000007000000070000000700000007000000
00000000000000000000000000000000070000000700000007000000070000000000000000000000000000000000000000000000070000000700000007000000
00000000000000000700000007000000000000000000000007000000070000000000000000000000070000000700000007000000000000000000000007000000
00000000070000000000000007000000000000000700000000000000070000000000000007000000000000000000000007000000000000000700000000000000
__map__
00544f4d205741532041204c494e450000535552452041532059204953205a00010000000000000000000000000000010100000000000000000000000000000101000000000000000000000000000001010000000000000000000000000000010100000000000000000000000000000101000000000000000000000000000001
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000101000000000000000000000000000001010000000000000000000000000000010100000000000000000000000000000101000000000000000000000000000001010000000000000000000000000000010100000000000000000000000000000101000000000000000000000000000002
